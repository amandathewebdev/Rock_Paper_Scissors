<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>Rock Paper Scissors</title>

		<script>
			let score = 0;
			let playerSelection;
			let computerSelection;

			function computerPlay() {
				//Randomly return 'Rock', 'Paper', or 'Scissors'
				const computerAction = ['rock', 'paper', 'scissors'];
				let random = Math.floor(Math.random()*computerAction.length);
				let randomResult = computerAction[random];

				return randomResult;
			}

			function playRound(playerSelection, computerSelection) {
				//return a string that declares the winner of the round, e.g. "You Lose! Paper beats Rock"
				// make case insensitive so users can input rock RoCk ROCK etc
				playerSelection = window.prompt('Choose your weapon: Rock, Paper, or Scissors?').toLowerCase();
				computerSelection = computerPlay();

				//win
				if (playerSelection == 'rock' && computerSelection == 'scissors'
					|| playerSelection == 'paper' && computerSelection == 'rock'
					|| playerSelection == 'scissors' && computerSelection == 'paper') {
					alert(`You win! ${playerSelection} beats ${computerSelection}.`);

					score++;
					console.log("The current score is " + score);
				}

				//lose
				else if (playerSelection == 'rock' && computerSelection == 'paper'
					|| playerSelection == 'paper' && computerSelection == 'scissors'
					|| playerSelection == 'scissors' && computerSelection == 'rock') {
					alert(`You lose! ${computerSelection} beats ${playerSelection}.`);

					console.log("The current score is " + score);

				}

				//draw
				else if (playerSelection == computerSelection) {
					alert("It's a draw!");
					console.log("The current score is " + score);
				}

				//invalid input
				else {
					alert("Valid choices are: rock, paper, or scissors. Please try again and check for typos.");
				}
				
			}
			console.log(playRound(playerSelection, computerSelection));

			function game() {
				//use previous function here to play 5 rounds and keep score
				// declare winner or loser at end

				for(round = 1; round < 5; round++) {
					playRound(playerSelection, computerSelection);
					console.log(round);
				}
				if (score <= 3) {
					console.log("Sorry, a score of less than 3 loses!");
				} else if (score >= 3) {
					console.log("Congrats, a score higher than 3 wins the game!");
				}

			}
			
			game();


		</script>
	</head>

	<body></body>
</html>